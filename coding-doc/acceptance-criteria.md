# Acceptance Criteria

依據 `reference/task.md`，以下將每條需求轉為可驗收條件與測試案例。

## 1. Standard 管理

## AC-STD-001 展示所有可用 Standard 列表
- 對應需求：`task.md` Standard 管理第 1 點
- 驗收條件：
  - 頁面載入後可看到完整 standard 清單
  - 清單內容與後端模板資料一致（名稱、ID）
  - 若清單為空，顯示空狀態提示
- 測試案例：
  - TC-STD-001
  - 前置：後端返回 5 筆 standards
  - 步驟：打開頁面
  - 期望：顯示 5 筆，無缺漏

## AC-STD-002 允許手動勾選所需 Standard
- 對應需求：`task.md` Standard 管理第 2 點
- 驗收條件：
  - 每個 standard 可勾選/取消
  - 勾選狀態即時反映到「已選清單」
  - 刷新前保持當前頁面狀態（至少 session 內）
- 測試案例：
  - TC-STD-002
  - 前置：至少 3 筆 standards
  - 步驟：勾選 2 筆，取消 1 筆
  - 期望：已選清單數量正確，排序不亂

## AC-STD-003 提供 NEC 模板快捷選項
- 對應需求：`task.md` Standard 管理第 3 點
- 驗收條件：
  - 點擊「NEC 模板」可一鍵套用預設 standard 集合
  - 套用後勾選結果與模板完全一致
  - 套用時若有原本勾選，按規格覆蓋或合併（需文檔明確）
- 測試案例：
  - TC-STD-003
  - 前置：當前有自定勾選
  - 步驟：點擊 NEC 模板
  - 期望：勾選結果變為 NEC 預設集合

## 2. 優先級自定義

## AC-PRI-001 可調整所選 Standard 優先級順序
- 對應需求：`task.md` 優先級第 1 點
- 驗收條件：
  - 已選 standard 支援拖拽排序
  - 排序變更後 priority 數值即時更新
  - 排序結果可用於後續導出
- 測試案例：
  - TC-PRI-001
  - 前置：已選至少 3 筆
  - 步驟：將第 3 筆拖到第 1 位
  - 期望：新順序正確，priority 重新編號

## AC-PRI-002 支援一鍵恢復 NEC 預設優先級
- 對應需求：`task.md` 優先級第 2 點
- 驗收條件：
  - 點擊重置按鈕後，順序回到 NEC 模板預設
  - 非模板中的標準處理策略可預期（置底或移除，需文檔明確）
- 測試案例：
  - TC-PRI-002
  - 前置：已手動改過順序
  - 步驟：點擊「恢復預設優先級」
  - 期望：順序與模板設定一致

## 3. 報告卡片展示與 PDF 溯源

## AC-CARD-001 卡片渲染完整資訊
- 對應需求：`task.md` 卡片展示第 1 點
- 驗收條件：
  - 每張卡片至少展示：結論描述、關聯 standard、evidence、severity、confidence
  - 卡片資料與輸入 JSON 一致
  - 長文本不破版，行為可閱讀（截斷或展開）
- 測試案例：
  - TC-CARD-001
  - 前置：載入 `reference/test.json`
  - 步驟：查看所有卡片
  - 期望：欄位完整且對應正確

## AC-CARD-002 點擊 Evidence 跳 PDF 頁並高亮
- 對應需求：`task.md` 卡片展示第 2 點
- 驗收條件：
  - 點擊 evidence 後打開對應 PDF 文件
  - 自動跳轉到指定頁碼（page）
  - 高亮 evidence 片段（bbox 或文本高亮）
  - 若無法精準定位，至少跳頁並顯示「近似定位」
- 測試案例：
  - TC-CARD-002
  - 前置：該 item 可解析出 anchor
  - 步驟：點擊 evidence
  - 期望：文檔切換正確，跳頁正確，高亮可見
  - TC-CARD-003（異常）
  - 前置：anchor 無法解析
  - 步驟：點擊 evidence
  - 期望：仍打開文件，顯示定位失敗提示

## 4. 報告導出

## AC-EXP-001 可輸出固定格式文檔
- 對應需求：`task.md` 導出第 1 點
- 驗收條件：
  - 點擊「輸出報告」可下載檔案（Word 或 PDF）
  - 文件格式符合預先確認模板
- 測試案例：
  - TC-EXP-001
  - 前置：選定 standards 並有 cards
  - 步驟：點擊輸出
  - 期望：下載成功，檔案可打開

## AC-EXP-002 輸出內容完整
- 對應需求：`task.md` 導出第 2 點
- 驗收條件：
  - 包含使用者選定 standard 清單
  - 包含最終 priority 順序
  - 包含所有導出卡片資訊（結論、evidence、來源）
- 測試案例：
  - TC-EXP-002
  - 前置：調整過 priority 並選擇卡片
  - 步驟：導出後檢查內容
  - 期望：內容與當前 UI 狀態一致

## 5. 輸入依賴驗收

## AC-DATA-001 接受結構化 JSON 報告資料
- 對應需求：`task.md` 輸入依賴第 1 部分
- 驗收條件：
  - 可載入同事提供 JSON
  - schema 不合法時返回明確錯誤
- 測試案例：
  - TC-DATA-001（合法）
  - TC-DATA-002（缺必填欄位）

## AC-DATA-002 NEC 模板與預設優先級可配置
- 對應需求：`task.md` 輸入依賴第 2 部分
- 驗收條件：
  - NEC 模板來自配置/API，不硬編碼在 UI
  - 更新模板後前端可即時讀取新配置
- 測試案例：
  - TC-DATA-003
  - 前置：替換模板配置
  - 步驟：刷新頁面並套用模板
  - 期望：採用新模板內容與順序
