/* Reusable components */
.c-topbar {
  align-items: center;
  border-bottom: 1px solid var(--color-border);
  display: flex;
  justify-content: space-between;
  gap: var(--space-4);
  min-height: 74px;
  padding: var(--space-4) var(--space-5);
  position: sticky;
  top: 0;
  background: rgba(255, 255, 255, 0.94);
  backdrop-filter: blur(5px);
  z-index: 20;
}

.c-brand {
  display: grid;
  gap: 2px;
}

.c-brand-kicker {
  color: var(--color-subtext);
  font-size: var(--fs-11);
  letter-spacing: 0.08em;
  margin: 0;
  text-transform: uppercase;
}

.c-brand-title {
  font-size: var(--fs-18);
  font-weight: var(--fw-semibold);
  letter-spacing: 0.01em;
  margin: 0;
  line-height: var(--lh-tight);
}

.c-topbar-actions {
  align-items: center;
  display: flex;
  gap: var(--space-3);
}

.c-sidebar-stack {
  display: grid;
  gap: var(--space-4);
}

.c-section {
  background: var(--color-surface-muted);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  padding: var(--space-4);
}

.c-section-header {
  align-items: flex-start;
  display: flex;
  justify-content: space-between;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}

.c-section-title {
  font-size: var(--fs-16);
  font-weight: var(--fw-semibold);
  line-height: var(--lh-tight);
  margin: 0;
}

.c-section-desc {
  color: var(--color-subtext);
  font-size: var(--fs-13);
  line-height: var(--lh-base);
  margin: 6px 0 0;
}

.c-template-actions {
  align-items: center;
  display: grid;
  gap: var(--space-2);
  grid-template-columns: repeat(3, minmax(0, 1fr));
  margin-bottom: var(--space-3);
}

.c-btn {
  align-items: center;
  border: 1px solid transparent;
  border-radius: var(--radius-sm);
  display: inline-flex;
  font-size: var(--fs-13);
  font-weight: var(--fw-semibold);
  gap: var(--space-2);
  justify-content: center;
  line-height: var(--lh-tight);
  min-height: 36px;
  padding: 0 var(--space-3);
  transition: background-color 150ms ease, border-color 150ms ease, color 150ms ease;
}

.c-btn:disabled {
  opacity: 0.5;
  pointer-events: none;
}

.c-btn-primary {
  background: var(--color-primary);
  color: #fff;
}

.c-btn-primary:hover {
  background: #1659bf;
}

.c-btn-secondary {
  background: #fff;
  border-color: var(--color-border);
  color: var(--color-text);
}

.c-btn-secondary:hover {
  background: var(--color-primary-soft);
  border-color: #b5cef2;
}

.c-input,
.c-select-input,
.c-textarea,
.c-search-input {
  background: #fff;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  color: var(--color-text);
  font-size: var(--fs-13);
  line-height: var(--lh-base);
  width: 100%;
}

.c-input,
.c-select-input,
.c-search-input {
  min-height: 38px;
  padding: 0 var(--space-3);
}

.c-textarea {
  min-height: 84px;
  padding: var(--space-2) var(--space-3);
  resize: vertical;
}

.c-select-input {
  padding-right: var(--space-8);
}

.c-standard-list {
  display: grid;
  gap: var(--space-2);
}

.c-standard-row {
  align-items: flex-start;
  background: #fff;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  display: flex;
  gap: var(--space-2);
  padding: var(--space-3);
}

.c-standard-row.is-active {
  border-color: #96b9ea;
  box-shadow: inset 0 0 0 1px rgba(31, 111, 235, 0.2);
}

.c-check {
  margin-top: 3px;
}

.c-checkline {
  align-items: center;
  display: inline-flex;
  gap: var(--space-2);
  font-size: var(--fs-13);
}

.c-standard-meta {
  display: grid;
  flex: 1;
  gap: 4px;
}

.c-standard-name {
  font-size: var(--fs-14);
  font-weight: var(--fw-semibold);
  line-height: var(--lh-tight);
  margin: 0;
}

.c-standard-id {
  color: var(--color-subtext);
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size: var(--fs-12);
  margin: 0;
}

.c-priority-list {
  display: grid;
  gap: var(--space-2);
  list-style: none;
  margin: 0;
  padding: 0;
}

.c-priority-item {
  align-items: center;
  background: #fff;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  display: flex;
  gap: var(--space-3);
  padding: var(--space-2) var(--space-3);
}

.c-priority-item.is-dragging {
  opacity: 0.6;
}

.c-priority-index {
  align-items: center;
  background: var(--color-primary-soft);
  border-radius: 999px;
  color: #124ea8;
  display: inline-flex;
  font-size: var(--fs-12);
  font-weight: var(--fw-bold);
  height: 26px;
  justify-content: center;
  width: 26px;
}

.c-priority-content {
  display: grid;
  flex: 1;
  gap: 2px;
}

.c-priority-content p {
  margin: 0;
}

.c-priority-controls {
  align-items: center;
  display: inline-flex;
  gap: var(--space-1);
}

.c-icon-btn {
  align-items: center;
  background: #fff;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  display: inline-flex;
  font-size: var(--fs-13);
  height: 30px;
  justify-content: center;
  width: 30px;
}

.c-icon-btn:hover {
  background: var(--color-primary-soft);
}

.c-icon-btn:disabled {
  opacity: 0.35;
  pointer-events: none;
}

.c-search-input {
  margin-bottom: var(--space-3);
}

.c-card-list {
  display: grid;
  gap: var(--space-3);
}

.c-card {
  background: #fff;
  border: 1px solid var(--color-border);
  border-left: 4px solid var(--color-primary);
  border-radius: var(--radius-md);
  display: grid;
  gap: var(--space-3);
  padding: var(--space-3);
}

.c-card.is-consistent {
  border-left-color: #16a34a;
}

.c-card.is-inconsistent {
  border-left-color: #dc2626;
}

.c-card.is-unknown {
  border-left-color: #64748b;
}

.c-card.is-active {
  box-shadow: 0 0 0 2px rgba(31, 111, 235, 0.2);
}

.c-card-top {
  align-items: flex-start;
  display: flex;
  gap: var(--space-3);
  justify-content: space-between;
}

.c-card-kicker {
  color: var(--color-subtext);
  font-size: var(--fs-11);
  letter-spacing: 0.08em;
  margin: 0 0 4px;
  text-transform: uppercase;
}

.c-card-title {
  font-size: var(--fs-14);
  font-weight: var(--fw-medium);
  line-height: var(--lh-base);
  margin: 0;
}

.c-card-score {
  align-items: flex-end;
  display: grid;
  gap: var(--space-1);
}

.c-card-summary,
.c-card-evidence {
  font-size: var(--fs-13);
  line-height: var(--lh-base);
  margin: 0;
}

.c-card-summary {
  color: var(--color-text);
}

.c-card-evidence {
  background: #eff6ff;
  border-radius: var(--radius-sm);
  color: #1e3a5f;
  padding: var(--space-2) var(--space-3);
}

.c-card-evidence-wrap {
  position: relative;
}

.c-card-evidence-tooltip {
  background: #ffffff;
  border: 1px solid #b6c8e2;
  border-radius: var(--radius-sm);
  box-shadow: var(--shadow-sm);
  color: #0f2944;
  display: none;
  font-size: var(--fs-12);
  left: 0;
  line-height: var(--lh-base);
  margin: 0;
  max-height: 200px;
  overflow-y: auto;
  padding: var(--space-2) var(--space-3);
  position: absolute;
  right: 0;
  top: calc(100% + 8px);
  white-space: normal;
  word-break: break-word;
  z-index: 12;
}

.c-card-evidence-wrap:hover .c-card-evidence-tooltip,
.c-card-evidence-wrap:focus-within .c-card-evidence-tooltip {
  display: block;
}

.c-evidence-ref-section {
  display: grid;
  gap: 8px;
}

.c-evidence-ref-title {
  color: var(--color-subtext);
  font-size: var(--fs-11);
  font-weight: var(--fw-semibold);
  letter-spacing: 0.05em;
  margin: 0;
  text-transform: uppercase;
}

.c-evidence-ref-list {
  display: grid;
  gap: 8px;
}

.c-evidence-ref-item {
  align-items: flex-start;
  background: #fff;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  display: grid;
  gap: 3px;
  justify-items: start;
  padding: 8px 10px;
  text-align: left;
}

.c-evidence-ref-item:hover {
  border-color: #96b9ea;
  box-shadow: inset 0 0 0 1px rgba(31, 111, 235, 0.15);
}

.c-evidence-ref-item.is-active {
  background: #eef5ff;
  border-color: #74a6e8;
}

.c-evidence-ref-label {
  color: #14498f;
  font-size: var(--fs-12);
  font-weight: var(--fw-semibold);
  line-height: var(--lh-tight);
}

.c-evidence-ref-preview {
  color: var(--color-subtext);
  font-size: var(--fs-12);
  line-height: var(--lh-base);
}

.c-card-meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.c-card-footer {
  align-items: center;
  display: flex;
  justify-content: flex-end;
  gap: var(--space-3);
}

.c-link-btn {
  background: transparent;
  border: 0;
  color: var(--color-primary);
  font-size: var(--fs-13);
  font-weight: var(--fw-bold);
  line-height: var(--lh-tight);
  padding: 0;
}

.c-link-btn:hover {
  color: #1659bf;
  text-decoration: underline;
}

.c-toolbar {
  align-items: center;
  background: rgba(255, 255, 255, 0.92);
  border-bottom: 1px solid var(--color-border);
  display: flex;
  gap: var(--space-4);
  justify-content: space-between;
  min-height: 68px;
  padding: var(--space-3) var(--space-5);
}

.c-toolbar-doc {
  display: grid;
  gap: 2px;
  min-width: 0;
}

.c-toolbar-title {
  font-size: var(--fs-14);
  font-weight: var(--fw-bold);
  line-height: var(--lh-tight);
  margin: 0;
}

.c-toolbar-subtitle {
  color: var(--color-subtext);
  font-size: var(--fs-12);
  line-height: var(--lh-tight);
  margin: 0;
}

.c-toolbar-actions {
  align-items: center;
  display: inline-flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.c-toolbar-doc-select {
  max-width: 300px;
  min-width: 210px;
}

.c-toolbar-btn {
  background: #fff;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  font-size: var(--fs-13);
  min-height: 34px;
  min-width: 56px;
  padding: 0 var(--space-2);
}

.c-toolbar-btn:hover {
  background: var(--color-primary-soft);
}

.c-zoom-value {
  color: var(--color-subtext);
  font-size: var(--fs-12);
  font-weight: var(--fw-semibold);
  min-width: 44px;
  text-align: center;
}

.c-page-input-wrap {
  align-items: center;
  background: #fff;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  display: inline-flex;
  gap: 6px;
  min-height: 34px;
  padding: 0 8px;
}

.c-page-input {
  border: 0;
  border-bottom: 1px solid rgba(148, 163, 184, 0.35);
  border-radius: 0;
  font-size: var(--fs-12);
  line-height: var(--lh-tight);
  outline: none;
  padding: 0;
  text-align: center;
  width: 64px;
}

.c-page-input:focus {
  border-bottom-color: var(--color-primary);
}

.c-pdf-stage {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  min-height: 0;
  overflow: hidden;
  padding: var(--space-3);
}

.c-doc-header {
  display: flex;
  align-items: flex-start;
  gap: var(--space-4);
  justify-content: space-between;
}

.c-doc-header h2 {
  font-size: var(--fs-18);
  line-height: var(--lh-tight);
  margin: 0;
}

.c-doc-header p {
  margin: 4px 0 0;
}

.c-evidence-block h3 {
  font-size: var(--fs-15);
  font-weight: var(--fw-semibold);
  margin: 0 0 var(--space-2);
}

.c-evidence-block p {
  margin: 0;
}

.c-pdf-viewer-shell {
  background: #f8fbff;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  flex: 1;
  min-height: 0;
  overflow: auto;
  padding: var(--space-2);
}

.c-pdf-viewer-shell-full {
  box-shadow: var(--shadow-sm);
}

.c-pdf-page-wrap {
  margin: 0 auto;
  position: relative;
  width: fit-content;
}

.c-pdf-page-canvas {
  background: #fff;
  display: block;
}

.c-pdf-highlight-box {
  background: rgba(250, 204, 21, 0.2);
  border: 2px solid rgba(250, 204, 21, 0.9);
  border-radius: 4px;
  box-shadow: 0 0 0 1px rgba(120, 53, 15, 0.2);
  position: absolute;
  pointer-events: none;
}

.c-highlight {
  background: var(--color-highlight-bg);
  border: 1px solid var(--color-highlight-border);
  border-radius: var(--radius-sm);
  padding: var(--space-3);
}

.c-badge {
  align-items: center;
  background: var(--color-primary-soft);
  border-radius: 999px;
  color: #1e3a5f;
  display: inline-flex;
  font-size: var(--fs-11);
  font-weight: var(--fw-bold);
  letter-spacing: 0.04em;
  min-height: 24px;
  padding: 0 10px;
  text-transform: uppercase;
}

.c-badge.is-major {
  background: var(--color-major-bg);
  color: var(--color-major-text);
}

.c-badge.is-minor {
  background: var(--color-minor-bg);
  color: var(--color-minor-text);
}

.c-badge.is-info {
  background: var(--color-info-bg);
  color: var(--color-info-text);
}

.c-badge.is-consistent {
  background: var(--color-consistent-bg);
  color: var(--color-consistent-text);
}

.c-badge.is-warning {
  background: #fef3c7;
  color: #92400e;
}

.c-badge.is-priority {
  background: #ede9fe;
  color: #5b21b6;
}

.c-chip {
  align-items: center;
  background: #fff;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  color: var(--color-subtext);
  display: inline-flex;
  font-size: var(--fs-11);
  gap: var(--space-1);
  min-height: 24px;
  padding: 0 8px;
}

.c-chip.is-consistent {
  background: var(--color-consistent-bg);
  border-color: #bbf7d0;
  color: var(--color-consistent-text);
}

.c-chip.is-inconsistent {
  background: var(--color-inconsistent-bg);
  border-color: #fecaca;
  color: var(--color-inconsistent-text);
}

.c-chip.is-unknown {
  background: var(--color-unknown-bg);
  border-color: #cbd5e1;
  color: var(--color-unknown-text);
}

.c-empty,
.c-alert,
.c-notice {
  border-radius: var(--radius-sm);
  font-size: var(--fs-13);
  line-height: var(--lh-base);
  margin: 0;
  padding: var(--space-2) var(--space-3);
}

.c-empty {
  background: #eff6ff;
  color: #1e3a5f;
}

.c-alert {
  background: #fee2e2;
  color: #991b1b;
}

.c-notice {
  background: #ecfeff;
  color: #0e7490;
}

.c-page-wrap {
  display: grid;
  gap: var(--space-4);
  min-height: 100vh;
  padding: var(--space-6);
}

.c-page-header {
  align-items: flex-start;
  display: flex;
  gap: var(--space-4);
  justify-content: space-between;
}

.c-page-kicker {
  color: var(--color-subtext);
  font-size: var(--fs-12);
  font-weight: var(--fw-semibold);
  letter-spacing: 0.08em;
  margin: 0 0 4px;
  text-transform: uppercase;
}

.c-page-title {
  font-size: var(--fs-22);
  font-weight: var(--fw-bold);
  line-height: var(--lh-tight);
  margin: 0;
}

.c-page-subtitle {
  color: var(--color-subtext);
  font-size: var(--fs-14);
  line-height: var(--lh-base);
  margin: 8px 0 0;
  max-width: 76ch;
}

.c-admin-grid {
  display: grid;
  gap: var(--space-4);
  grid-template-columns: 1.2fr 1fr;
}

.c-admin-list {
  display: grid;
  gap: var(--space-3);
}

.c-admin-row,
.c-admin-template-row {
  background: #fff;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  display: grid;
  gap: var(--space-2);
  padding: var(--space-3);
}

.c-admin-row-head {
  align-items: center;
  display: flex;
  justify-content: space-between;
  gap: var(--space-3);
}

.c-admin-fields {
  display: grid;
  gap: var(--space-3);
}

.c-admin-fields-2col {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.c-admin-field {
  display: grid;
  gap: 6px;
}

.c-admin-label {
  color: var(--color-subtext);
  font-size: var(--fs-12);
  font-weight: var(--fw-semibold);
  letter-spacing: 0.03em;
  text-transform: uppercase;
}

.c-inline-actions {
  align-items: center;
  display: inline-flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

@media (max-width: 1080px) {
  .c-template-actions {
    grid-template-columns: 1fr;
  }

  .c-toolbar {
    align-items: flex-start;
    flex-direction: column;
  }

  .c-toolbar-actions {
    justify-content: flex-start;
    width: 100%;
  }

  .c-pdf-stage {
    padding: var(--space-2);
  }

  .c-pdf-viewer-shell {
    min-height: 360px;
  }

  .c-page-wrap {
    padding: var(--space-4);
  }

  .c-page-header {
    flex-direction: column;
  }

  .c-admin-grid {
    grid-template-columns: 1fr;
  }

  .c-admin-fields-2col {
    grid-template-columns: 1fr;
  }
}
